# Skills 设计详细指南

## 1. 设计原则

### 1.1 单一职责

每个 Skill 只负责一个领域：

```
✅ 好的设计
- python-coding-standards: Python 编码规范
- testing-workflow: 测试工作流

❌ 不好的设计
- python-and-testing: 混合多个职责
```

### 1.2 渐进式披露

- **SKILL.md**：核心要求，快速参考
- **references/**：详细内容，按需加载

```
SKILL.md（50-80 行）
└── 核心强制要求
└── AI Agent 行为要求
└── 参考资料链接

references/（详细内容）
└── 详细规范
└── 示例代码
└── 最佳实践
```

### 1.3 可执行性

- 规范应该可执行，不是空洞的原则
- 提供具体的检查清单
- 必要时提供脚本支持

## 2. 内容组织

### 2.1 核心要求放前面

```markdown
## ⚠️ 核心强制要求

**必须遵守的关键规则**

- 规则1
- 规则2
```

### 2.2 行为要求清晰

```markdown
## AI Agent 行为要求

### 创建代码时
- 必须...
- 必须...

### 修改代码时
- 必须...
```

### 2.3 引用资料完整

```markdown
## 参考资料

- `references/xxx.md` - 描述
```

## 3. 触发方式设计

### 3.1 自动触发

通过 `globs` 字段自动匹配：

```yaml
globs:
  - "**/*.py"  # Python 文件
  - "frontend/**"  # 前端目录
```

### 3.2 手动触发

通过命令或用户指令触发：

```markdown
## 触发条件

- 用户明确要求
- Agent 评估需要
```

## 4. 检查清单

创建 Skill 前检查：

- [ ] 职责单一，不与现有 Skill 重叠
- [ ] 核心要求在前 50 行
- [ ] 详细内容在 references/
- [ ] 触发方式明确
- [ ] AI Agent 行为要求清晰

## 5. 常见问题

### 5.1 Skill 太长

**问题**：SKILL.md 超过 80 行

**解决**：
1. 将详细内容移到 references/
2. 只保留核心要求和行为要求

### 5.2 职责不清

**问题**：Skill 包含多个不相关的职责

**解决**：
1. 拆分为多个 Skill
2. 每个 Skill 只负责一个领域

### 5.3 不可执行

**问题**：规范太抽象，不知道如何执行

**解决**：
1. 提供具体的检查清单
2. 提供示例代码
3. 必要时提供脚本
