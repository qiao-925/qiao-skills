# 函数级：单路径优先与控制流简化

## 核心原则

函数应尽量短小、目标明确、控制流简单。

## 函数简化规则

- 一次只完成一个明确目标。
- 优先线性流程，减少条件分叉深度。
- 把异常分支前置，保持主路径清晰。

## 常见简化动作

- 提前返回（guard clauses）减少嵌套。
- 拆分混合职责函数（校验/计算/输出分离）。
- 将重复分支提取为小函数。

## 复杂度警示信号

- 参数过多且语义分散。
- 条件嵌套超过两层。
- 函数内部承担流程编排 + 业务计算 + IO。

## 检查清单

- [ ] 函数名是否准确表达单一意图。
- [ ] 主路径是否一眼可读。
- [ ] 是否存在可下沉/可提取的重复逻辑。
