# 触发信号详细识别规则

## 1. 关键词识别

### 明确询问类

| 关键词 | 示例 |
|--------|------|
| "有哪些功能" | "这个项目有哪些功能可以开发？" |
| "应该做什么" | "我应该做什么？"、"接下来应该做什么？" |
| "优先级" | "优先级是什么？"、"哪些功能优先级高？" |
| "下一步" | "下一步做什么？"、"接下来呢？" |
| "梳理" | "帮我梳理一下任务"、"梳理一下功能" |
| "分析需求" | "分析一下需求"、"看看有什么需求" |
| "探索" | "探索一下方向"、"看看有什么可以做的" |

### 迷茫表达类

| 语气特征 | 示例 |
|---------|------|
| 不确定 | "不知道"、"不太清楚"、"有点迷茫" |
| 询问式 | "？"、"呢？"、"吗？" |
| 求助式 | "帮我看看"、"给点建议"、"有什么想法" |

## 2. 上下文判断

### 触发场景

- 项目启动初期，用户不确定方向
- 完成一个功能后，用户询问下一步
- 用户表达对项目方向的困惑
- 用户要求"全面分析"、"整体规划"

### 不触发场景

- 用户已有明确功能需求（应进入 `task-planning`）
- 用户询问技术实现细节（应进入 `architecture-design`）
- 用户询问代码问题（应直接回答）

## 3. 判断流程

```
用户输入
  ↓
检测关键词/语气
  ↓
判断是否表达迷茫/询问方向
  ↓
是 → 触发 requirement-discovery
否 → 继续其他流程
```

## 4. 示例

### ✅ 应该触发

- "这个项目应该做什么功能？"
- "帮我梳理一下有哪些可以做的"
- "有点迷茫，不知道下一步该做什么"
- "当前最应该优先实现什么？"

### ❌ 不应该触发

- "实现一个用户登录功能"（明确需求，应进入 task-planning）
- "这个函数怎么优化？"（技术问题，直接回答）
- "帮我修复这个bug"（明确任务，直接执行）
