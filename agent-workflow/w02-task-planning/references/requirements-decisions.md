# 需求决策流程详细说明

## 1. 需求理解

### 1.1 核心任务

- [ ] 阅读并复述用户目标，明确核心功能点与优先级
- [ ] 标记功能、技术、时间三类边界
- [ ] 列出关键约束（性能、资源、兼容性等）
- [ ] 识别潜在风险：技术难点、外部依赖、时间瓶颈、兼容问题

### 1.2 补齐背景

- 查找现有实现或模式
- 必要时向用户索取示例或代码参考
- 确认相关文件路径和接口

## 2. 方案设计

### 2.1 候选方案

- [ ] 至少提出 2-3 个候选方案
- [ ] 说明每个方案的适用场景
- [ ] 补充：实现思路、优劣势、风险点、前置条件

### 2.2 实施规划

- [ ] 拆解实施依赖：按顺序列出模块与步骤（A → B → C）
- [ ] 明确影响范围：列出需修改/新增的文件或接口
- [ ] 说明职责变化

### 2.3 测试要点

- 单元测试检查项
- 集成测试检查项
- 边界/异常检查项
- 标记必须新增的测试

## 3. 决策确认

### 3.1 用户同步

- [ ] 与用户同步所有方案要点
- [ ] 停止自行选择单一方案
- [ ] 提供选择建议但不代为决定

### 3.2 必须等待用户决策的情形

- 架构/技术选型
- 性能与维护性取舍
- 技术债务或临时方案
- 涉及多团队协作的变更

### 3.3 争议处理

- 争议或不确定时立即升级
- 说明原因、给出可行选项
- 记录推荐理由

### 3.4 执行前核对

用户确认后，再次核对：
- 依赖关系
- 文件路径
- 测试要点
- 交付节奏

## 4. 决策记录

### 4.1 记录格式

```markdown
### 决策点：[决策名称]

**背景**：[为什么需要这个决策]

**选项**：
1. [选项 A]：[优势] / [劣势]
2. [选项 B]：[优势] / [劣势]

**决策**：选择 [选项 X]

**理由**：[为什么选择这个选项]

**日期**：YYYY-MM-DD
```

### 4.2 记录位置

- 重大决策：在计划书的"技术方案"章节记录
- 小决策：在对应 CP 的执行记录中记录
